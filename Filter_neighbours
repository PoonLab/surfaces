    import csv
    ref_seq = '/Users/sarehchimeh/Data/Human_virus_accession.txt'
    Neighbours = '/Users/sarehchimeh/Data/Neighbours.txt'
    
    def comp_list(list1, list2):
        """
        #:param list1: a list of strings
        #:param list2: a list of strings
        #:return: true is at least one element in common between list 1 and list 2
        """
        common = 0
        for first in list1:
            # iterate through the 2nd list
            for second in list2:
                # at least one common
                if first == second:
                    common +=1
    
        return common
    
    def parse_accesion(file):
        """
        #Loop trough table to retrieve accession numbers as a list
        """
        handle = open(file)
        accn = []
        for line in handle:
            temp = line.strip('\n')  # Remove new line
            accn.append(temp)
        return (accn)
    
    
    def main():
        # opening the ref file as list
        ref_seq_lst = parse_accesion(ref_seq)
        with open (Neighbours, 'r') as n_file:
            title=n_file.readline()
            reader = csv.DictReader(n_file, delimiter='\t')
            columns = ['Representative','Neighbor','Host','Selected lineage','Taxonomy name','Segment name']
            with open ('/Users/sarehchimeh/Data/filtered_Neighbours.txt','w') as of:
                of.write(title)
                writer = csv.DictWriter(of, fieldnames=columns, delimiter='\t')
                writer.writeheader()
                for row in reader:
                    rep_lst=row['Representative'].split(',')
                    if comp_list(rep_lst, ref_seq_lst)>=1:
                        writer.writerow(row)
    
    if __name__ == "__main__":
        main()
